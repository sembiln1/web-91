<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>9¬π | Portal</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <link rel="stylesheet" href="style.css">
    <style>
        body { margin: 0; background: #000; color: #fff; overflow-x: hidden; }
        .background-container { position: fixed; top: 0; width: 100vw; height: 100vh; z-index: -1; }
        .drop { position: absolute; width: 2px; height: 15px; background: rgba(0, 210, 255, 0.3); animation: fall linear infinite; }
        @keyframes fall { to { transform: translateY(100vh); } }
        #adminPanel { display: none; margin-top: 15px; padding: 15px; background: rgba(255,255,255,0.05); border: 1px solid #333; border-radius: 10px; }
        .adm-card { border-bottom: 1px solid #222; margin-bottom: 10px; padding-bottom: 10px; }
        input, select, textarea { width: 100%; background: #111; color: #fff; border: 1px solid #444; padding: 8px; margin: 3px 0; border-radius: 5px; box-sizing: border-box; font-size: 12px; }
        .btn-adm { width: 100%; padding: 10px; border: none; border-radius: 5px; font-weight: bold; font-size: 11px; cursor: pointer; margin-top: 5px; }
        .list-item { display: flex; justify-content: space-between; padding: 5px 0; font-size: 12px; border-bottom: 1px dashed #333; }
        .wa-container { margin-top: 30px; font-size: 14px; color: #ffffff; text-align: center; }
        .admin-link { color: #00a2ff; text-decoration: none; font-weight: bold; margin-left: 5px; }
    </style>
</head>
<body style="display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; background: #000; color: #fff; overflow-x: hidden;">
    <div class="background-container" id="rainContainer"></div>
    <div class="login-box">
        <h2>Login</h2>
        <form id="loginForm">
            <div class="input-group"><input type="text" id="username" required><label>User</label></div>
            <div class="input-group"><input type="password" id="password" required><label>Pass</label></div>
            <button type="submit" class="sign-in-btn">MASUK</button>
            
            <div class="login-footer">
                <div class="wa-container">
                    <span>Mau custom user&pw?</span>
                    <a href="https://wa.me/6285817889864?text=Custom%20User%26Pw" class="admin-link">Chat adminüòã</a>
                </div>
            </div>

            <div id="adminPanel">
                <div class="adm-card">
                    <h4 style="color:#e67e22; margin:0 0 5px 0;">üëë KELOLA ADMIN CHAT</h4>
                    <input type="text" id="adminUser" placeholder="Username Member">
                    <div style="display:flex; gap:5px;">
                        <button type="button" onclick="setRole('admin')" class="btn-adm" style="background:#e67e22; flex:1;">JADIKAN ADMIN</button>
                        <button type="button" onclick="setRole('member')" class="btn-adm" style="background:#555; flex:1;">COPOT ADMIN</button>
                    </div>
                </div>

                <div class="adm-card">
                    <h4 style="color:#2ecc71; margin:0 0 5px 0;">‚ûï TAMBAH USER</h4>
                    <input type="text" id="customUser" placeholder="User Baru">
                    <input type="text" id="customPass" placeholder="Pass Baru">
                    <button type="button" onclick="window.tambahUserCustom()" class="btn-adm" style="background:#2ecc71;">SIMPAN USER</button>
                </div>
                <div class="adm-card">
                    <h4 style="color:#00d2ff; margin:0;">üü¢ ONLINE</h4>
                    <ul id="onlineList" style="list-style:none; padding:0;"></ul>
                </div>
                <div class="adm-card">
                    <h4 style="color:#ff4d4d; margin:0;">üö´ BANNED</h4>
                    <ul id="bannedList" style="list-style:none; padding:0;"></ul>
                </div>
                <div class="adm-card">
                    <h4 style="color:#f1c40f; margin:0;">üì¢ PENGUMUMAN</h4>
                    <textarea id="inputTeks" placeholder="Isi pesan..."></textarea>
                    <select id="timerUpdate"><option value="0">Selamanya</option><option value="1">1 Jam</option></select>
                    <button type="button" onclick="window.updateWebSekarang()" class="btn-adm" style="background:#f1c40f;">UPDATE</button>
                </div>
                <div class="adm-card">
                    <h4 style="color:#9b59b6; margin:0;">üìÖ JADWAL</h4>
                    <select id="pilihJenisJadwal"><option value="jadwal_pelajaran">Pelajaran</option><option value="jadwal_piket">Piket</option></select>
                    <select id="pilihHari"><option value="Senin">Senin</option><option value="Selasa">Selasa</option><option value="Rabu">Rabu</option><option value="Kamis">Kamis</option><option value="Jumat">Jumat</option></select>
                    <textarea id="isiJadwalBaru"></textarea>
                    <button type="button" onclick="window.updateJadwalSistem()" class="btn-adm" style="background:#9b59b6; color:#fff;">SIMPAN JADWAL</button>                  
                    <div class="adm-card">
    <h4 style="color:#ff4d4d; margin:0 0 5px 0;">üõ†Ô∏è MAINTENANCE MODE</h4>
    <div style="display:flex; gap:5px;">
        <button type="button" onclick="setMaintenance(true)" class="btn-adm" style="background:#ff4d4d; flex:1;">AKTIFKAN</button>
        <button type="button" onclick="setMaintenance(false)" class="btn-adm" style="background:#2ecc71; flex:1;">MATIKAN</button>
    </div>
    <p id="mtStatus" style="font-size:10px; margin-top:5px; text-align:center;">Status: Memuat...</p>
</div>

                </div>
                <button type="button" onclick="window.hapusLogServer()" style="background:none; border:none; color:#555; font-size:10px; cursor:pointer;">Clear Logs</button>
            </div>
        </form>
    </div>
    <script src="script.js"></script>
    <script>
        // Logika Role Admin Chat
        window.setRole = function(role) {
            const user = document.getElementById('adminUser').value.trim();
            if(!user) return alert("Masukkan nama user!");
            firebase.database().ref('roles/' + user).set(role).then(() => {
                alert(user + " sekarang adalah " + role);
                document.getElementById('adminUser').value = "";
            });
        }

        const rc = document.getElementById('rainContainer');
        for (let i = 0; i < 50; i++) {
            const d = document.createElement('div'); d.className = 'drop';
            d.style.left = Math.random() * 100 + 'vw'; d.style.animationDuration = Math.random() * 1 + 0.5 + 's';
            rc.appendChild(d);
        }
    </script>
</body>
</html>